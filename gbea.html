<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GBEA Communications Map</title>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #0ea5e9;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .header p {
            color: #666;
            font-size: 1.1em;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 15px;
            color: #0ea5e9;
            text-decoration: none;
            font-weight: 600;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        .dates-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        .dates-section h2 {
            color: #0ea5e9;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .date-input-group {
            margin-bottom: 15px;
        }
        
        .date-input-group label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }
        
        .date-input-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
        }
        
        .date-input-group input:focus {
            outline: none;
            border-color: #0ea5e9;
        }
        
        .stage {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        
        .stage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
            color: white;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .stage-header:hover {
            opacity: 0.9;
        }
        
        .stage-title {
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .toggle-icon {
            font-size: 1.5em;
            transition: transform 0.3s;
        }
        
        .toggle-icon.expanded {
            transform: rotate(180deg);
        }
        
        .stage-content {
            display: none;
        }
        
        .stage-content.expanded {
            display: block;
        }
        
        .comm-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid #0ea5e9;
        }
        
        .comm-header {
            display: flex;
            gap: 15px;
            align-items: start;
            margin-bottom: 15px;
        }
        
        .channel-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85em;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .channel-email { background: #e3f2fd; color: #1976d2; }
        .channel-call { background: #f3e5f5; color: #7b1fa2; }
        .channel-whatsapp { background: #e8f5e9; color: #388e3c; }
        .channel-social { background: #fff3e0; color: #f57c00; }
        
        .comm-type {
            font-weight: 700;
            color: #333;
            font-size: 1.1em;
        }
        
        .comm-timing {
            color: #666;
            font-style: italic;
            font-size: 0.9em;
        }
        
        .comm-content {
            margin-top: 10px;
        }
        
        .comm-content p {
            margin-bottom: 8px;
            color: #555;
        }
        
        .comm-content strong {
            color: #333;
        }
        
        .nurture-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 3px dashed #ff6b6b;
        }
        
        .nurture-title {
            color: #dc2626;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .nurture-item {
            background: #fff5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid #dc2626;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: white;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="loading" id="loading">Loading dates from Firebase...</div>
    
    <div class="container" id="mainContent" style="display: none;">
        <a href="index.html" class="back-link">‚Üê Back to All Awards</a>
        
        <div class="header">
            <h1>Great British Entrepreneur Awards (GBEA)</h1>
            <p>Comprehensive communications strategy for 8-stage entrepreneurial journey</p>
        </div>
        
        <div class="dates-section">
            <h2>üìÖ Key Dates</h2>
            <div class="date-input-group">
                <label for="applicationDeadline">Application Deadline:</label>
                <input type="date" id="applicationDeadline" onchange="saveDates()">
            </div>
            <div class="date-input-group">
                <label for="shortlistDate">Shortlist Announcement:</label>
                <input type="date" id="shortlistDate" onchange="saveDates()">
            </div>
            <div class="date-input-group">
                <label for="finalEvent">Final Event:</label>
                <input type="date" id="finalEvent" onchange="saveDates()">
            </div>
        </div>

        <!-- Stage 1 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(1)">
                <span class="stage-title">Stage 1: Discovery & Awareness</span>
                <span class="toggle-icon" id="icon-1">‚ñº</span>
            </div>
            <div class="stage-content" id="content-1">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Cold Outreach Campaign</div>
                            <div class="comm-timing">6 weeks before deadline - ongoing</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Introduction to GBEA, entrepreneurial success stories, benefits of entering</p>
                        <p><strong>Goal:</strong> Drive awareness and applications</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-social">üì± SOCIAL</span>
                        <div>
                            <div class="comm-type">Multi-Channel Social Campaign</div>
                            <div class="comm-timing">4 weeks before deadline</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Entrepreneur spotlights, video testimonials, category highlights</p>
                        <p><strong>Goal:</strong> Reach target entrepreneurs and build excitement</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 2 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(2)">
                <span class="stage-title">Stage 2: Application Started</span>
                <span class="toggle-icon" id="icon-2">‚ñº</span>
            </div>
            <div class="stage-content" id="content-2">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Application Support Series</div>
                            <div class="comm-timing">Triggered 24 hours after start</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Tips for strong applications, FAQs, examples</p>
                        <p><strong>Goal:</strong> Increase completion rate</p>
                    </div>
                </div>
                
                <div class="nurture-section">
                    <div class="nurture-title">‚ö†Ô∏è Abandoned Application Nurture</div>
                    <div class="nurture-item">
                        <div class="comm-header">
                            <span class="channel-badge channel-email">üìß EMAIL</span>
                            <div>
                                <div class="comm-type">Completion Reminder</div>
                                <div class="comm-timing">48 hours before deadline</div>
                            </div>
                        </div>
                        <div class="comm-content">
                            <p><strong>Content:</strong> Urgent deadline reminder, simplified process, support offer</p>
                            <p><strong>Goal:</strong> Recover abandoned applications</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 3 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(3)">
                <span class="stage-title">Stage 3: Application Submitted</span>
                <span class="toggle-icon" id="icon-3">‚ñº</span>
            </div>
            <div class="stage-content" id="content-3">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Submission Confirmation</div>
                            <div class="comm-timing">Immediate</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Thank you, next steps, timeline, social sharing assets</p>
                        <p><strong>Goal:</strong> Confirm receipt and encourage promotion</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Judging Process Update</div>
                            <div class="comm-timing">2 weeks after deadline</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Behind-the-scenes of judging, maintain anticipation</p>
                        <p><strong>Goal:</strong> Keep applicants engaged</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 4 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(4)">
                <span class="stage-title">Stage 4: Company Shortlisted</span>
                <span class="toggle-icon" id="icon-4">‚ñº</span>
            </div>
            <div class="stage-content" id="content-4">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Shortlist Congratulations</div>
                            <div class="comm-timing">Announcement day</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Congratulations, event details, ticket information, VIP experience</p>
                        <p><strong>Goal:</strong> Celebrate and drive ticket sales</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-call">üìû CALL</span>
                        <div>
                            <div class="comm-type">Personal Congratulations</div>
                            <div class="comm-timing">Within 48 hours</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Personal touch, answer questions, sponsorship opportunities</p>
                        <p><strong>Goal:</strong> Build relationship and drive revenue</p>
                    </div>
                </div>
                
                <div class="nurture-section">
                    <div class="nurture-title">‚ö†Ô∏è Non-Shortlisted Nurture</div>
                    <div class="nurture-item">
                        <div class="comm-header">
                            <span class="channel-badge channel-email">üìß EMAIL</span>
                            <div>
                                <div class="comm-type">Thank You & Future Opportunity</div>
                                <div class="comm-timing">Announcement day</div>
                            </div>
                        </div>
                        <div class="comm-content">
                            <p><strong>Content:</strong> Appreciation for entering, constructive feedback, next year's opportunity</p>
                            <p><strong>Goal:</strong> Maintain positive relationship</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 5 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(5)">
                <span class="stage-title">Stage 5: Event Ticket Purchased</span>
                <span class="toggle-icon" id="icon-5">‚ñº</span>
            </div>
            <div class="stage-content" id="content-5">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Ticket Confirmation Package</div>
                            <div class="comm-timing">Immediate</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> E-ticket, venue info, dress code, schedule, networking opportunities</p>
                        <p><strong>Goal:</strong> Provide all event information</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Pre-Event Build-Up</div>
                            <div class="comm-timing">2 weeks before event</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Meet the judges, category insights, maximize your experience tips</p>
                        <p><strong>Goal:</strong> Build excitement and ensure attendance</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-whatsapp">üí¨ WHATSAPP</span>
                        <div>
                            <div class="comm-type">Event Reminder</div>
                            <div class="comm-timing">24 hours before</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Final reminder, logistics, what to bring</p>
                        <p><strong>Goal:</strong> Ensure attendance</p>
                    </div>
                </div>
                
                <div class="nurture-section">
                    <div class="nurture-title">‚ö†Ô∏è No Ticket Purchase Nurture</div>
                    <div class="nurture-item">
                        <div class="comm-header">
                            <span class="channel-badge channel-call">üìû CALL</span>
                            <div>
                                <div class="comm-type">Personal Outreach</div>
                                <div class="comm-timing">2 weeks before event</div>
                            </div>
                        </div>
                        <div class="comm-content">
                            <p><strong>Content:</strong> Understand barriers, offer solutions, payment plans</p>
                            <p><strong>Goal:</strong> Convert to purchase</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 6 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(6)">
                <span class="stage-title">Stage 6: Event Attended</span>
                <span class="toggle-icon" id="icon-6">‚ñº</span>
            </div>
            <div class="stage-content" id="content-6">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-social">üì± SOCIAL</span>
                        <div>
                            <div class="comm-type">Live Event Coverage</div>
                            <div class="comm-timing">Throughout event</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Live updates, winner announcements, photo opportunities</p>
                        <p><strong>Goal:</strong> Maximize social reach</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Post-Event Thank You</div>
                            <div class="comm-timing">Day after</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Professional photos, highlight video, feedback survey</p>
                        <p><strong>Goal:</strong> Maintain engagement and gather insights</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 7 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(7)">
                <span class="stage-title">Stage 7: Award Winner</span>
                <span class="toggle-icon" id="icon-7">‚ñº</span>
            </div>
            <div class="stage-content" id="content-7">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Winner's Package</div>
                            <div class="comm-timing">Immediately post-event</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Trophy details, winner logos, press release, media kit</p>
                        <p><strong>Goal:</strong> Provide winner assets</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-call">üìû CALL</span>
                        <div>
                            <div class="comm-type">Winner Follow-Up</div>
                            <div class="comm-timing">1 week after</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> PR opportunities, case study request, ambassador program invitation</p>
                        <p><strong>Goal:</strong> Maximize winner value and build long-term relationship</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Winner's Network</div>
                            <div class="comm-timing">1 month after</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> Exclusive community access, networking events, mentoring opportunities</p>
                        <p><strong>Goal:</strong> Build community of winners</p>
                    </div>
                </div>
                
                <div class="nurture-section">
                    <div class="nurture-title">‚ö†Ô∏è Runner-Up Nurture</div>
                    <div class="nurture-item">
                        <div class="comm-header">
                            <span class="channel-badge channel-email">üìß EMAIL</span>
                            <div>
                                <div class="comm-type">Excellence Recognition</div>
                                <div class="comm-timing">Day after event</div>
                            </div>
                        </div>
                        <div class="comm-content">
                            <p><strong>Content:</strong> Celebrate being finalist, runner-up assets, constructive feedback</p>
                            <p><strong>Goal:</strong> Maintain positive relationship</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 8 -->
        <div class="stage">
            <div class="stage-header" onclick="toggleStage(8)">
                <span class="stage-title">Stage 8: Long-term Relationship</span>
                <span class="toggle-icon" id="icon-8">‚ñº</span>
            </div>
            <div class="stage-content" id="content-8">
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Quarterly Updates</div>
                            <div class="comm-timing">Quarterly</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> GBEA news, upcoming events, opportunities</p>
                        <p><strong>Goal:</strong> Maintain relationship and community</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-email">üìß EMAIL</span>
                        <div>
                            <div class="comm-type">Next Year's Early Access</div>
                            <div class="comm-timing">6 months before next awards</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> First to know, VIP application support, alumni discount</p>
                        <p><strong>Goal:</strong> Drive re-entry and loyalty</p>
                    </div>
                </div>
                
                <div class="comm-item">
                    <div class="comm-header">
                        <span class="channel-badge channel-whatsapp">üí¨ WHATSAPP</span>
                        <div>
                            <div class="comm-type">Community Group</div>
                            <div class="comm-timing">Ongoing</div>
                        </div>
                    </div>
                    <div class="comm-content">
                        <p><strong>Content:</strong> WhatsApp community for networking, support, exclusive opportunities</p>
                        <p><strong>Goal:</strong> Build engaged community</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Firebase
        const firebaseConfig = {
          apiKey: "AIzaSyBR7eBBCds2Qy_YxCmmG60KF0_nax9MZHY",
          authDomain: "ideas-forums-programme-plan.firebaseapp.com",
          projectId: "ideas-forums-programme-plan",
          storageBucket: "ideas-forums-programme-plan.firebasestorage.app",
          messagingSenderId: "94219941404",
          appId: "1:94219941404:web:78cc7a290dd99baf0b51d9",
          measurementId: "G-9D6EGHBXJ6"
        };
        
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // Load dates from Firebase
        async function loadDates() {
            try {
                const doc = await db.collection('awards').doc('gbea').get();
                if (doc.exists) {
                    const data = doc.data();
                    if (data.applicationDeadline) document.getElementById('applicationDeadline').value = data.applicationDeadline;
                    if (data.shortlistDate) document.getElementById('shortlistDate').value = data.shortlistDate;
                    if (data.finalEvent) document.getElementById('finalEvent').value = data.finalEvent;
                }
                document.getElementById('loading').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
            } catch (error) {
                console.error('Error loading dates:', error);
                document.getElementById('loading').innerHTML = 'Error loading dates. Please refresh the page.';
            }
        }
        
        // Save dates to Firebase
        async function saveDates() {
            const dates = {
                applicationDeadline: document.getElementById('applicationDeadline').value,
                shortlistDate: document.getElementById('shortlistDate').value,
                finalEvent: document.getElementById('finalEvent').value,
                lastUpdated: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            try {
                await db.collection('awards').doc('gbea').set(dates);
                console.log('Dates saved successfully!');
            } catch (error) {
                console.error('Error saving dates:', error);
                alert('Error saving dates. Please try again.');
            }
        }
        
        // Toggle stage content
        function toggleStage(stageNum) {
            const content = document.getElementById('content-' + stageNum);
            const icon = document.getElementById('icon-' + stageNum);
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.classList.remove('expanded');
            } else {
                content.classList.add('expanded');
                icon.classList.add('expanded');
            }
        }
        
        // Load dates when page loads
        loadDates();
    </script>
</body>
</html>
